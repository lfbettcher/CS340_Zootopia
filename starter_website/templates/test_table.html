{% extends "base.html" %}
{% set active_page = "animals" %}

{% block title %}Animals{% endblock %}
{% block content %}
<!--<h3><a href='/add_new_animal'>Add new animal</a></h3> for updates later -->
<h3>Animals</h3>
<table id=animalTable border='1'>
    <thead>
    <th>Animal ID</th>
    <th>Type</th>
    <th>Sex</th>
    <th>Name</th>
    <th>Age (yrs)</th>
    <th>Weight (lbs)</th>
    <th>Temperament</th>
    <th>Zookeeper ID</th>
    </thead>
    <tbody>
    {% for r in rows_animals %}
    <tr id="animal{{ loop.index }}">
        <td><input type="number" name="animal_id" value="{{ r[0] }}" disabled="true"></td>
        <td><input type="text" name="type" value="{{ r[1] }}" disabled="true"></td>
        <td><input type="text" name="sex" value="{{ r[2] }}" style="min-width: 2em" disabled="true"></td>
        <td><input type="text" name="name" value="{{ r[3] }}" disabled="true"></td>
        <td><input type="number" name="age" value="{{ r[4] }}" disabled="true"></td>
        <td><input type="number" name="weight" value="{{ r[5] }}" disabled="true"></td>
        <td><input type="text" name="temperament" value="{{ r[6] }}" disabled="true"></td>
        <td><input type="number" name="zookeeper_id" value="{{ r[7] }}" disabled="true"></td>
        <td><button type="submit" class='update-btn' name='Edit'>Edit</button></td>
        <td><button type='submit' class='delete-btn' name='Delete' value='Delete'>Delete</button></td>
    </tr>
    {% endfor %}
    </tbody>
</table>
<h3>Medications</h3>
<table id="medTable" border='1'>
    <thead>
    <th>Medication ID</th>
    <th>Name</th>
    </thead>
    <tbody>
    {% for r in rows_medications %}
    <tr id="med{{ loop.index }}">
        <td><input type="number" name="med_id" value="{{ r[0] }}" style="min-width: 2em" disabled="true"></td>
        <td><input type="text" name="name" value="{{ r[1] }}" disabled="true"></td>
        <td><button type="submit" class='update-btn' name='Edit'>Edit</button></td>
        <td><button type='submit' class='delete-btn' name='Delete' value='Delete'>Delete</button></td>
    </tr>
    {% endfor %}
    </tbody>
</table>

<h3>Animal Medications (Relationship Table)</h3>
<table id="animalMedTable" border='1'>
    <thead>
    <th style="display:none;">ID</th>
    <th>Animal ID</th>
    <th>Medication ID</th>
    </thead>
    <tbody>
    {% for r in rows_animals_meds %}
    <tr id="animalMed{{ loop.index }}">
        <td style="display:none;"> {{ r[0] }}</td>
        <td><input type="number" name="animal_id" value="{{ r[1] }}" style="min-width: 2em" disabled="true"></td>
        <td><input type="number" name="med_id" value="{{ r[2] }}" style="min-width: 2em" disabled="true"></td>
        <td><button type="submit" class='update-btn' name='Edit'>Edit</button></td>
        <td><button type='submit' class='delete-btn' name='Delete' value='Delete'>Delete</button></td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}